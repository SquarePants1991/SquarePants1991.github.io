<html>
	<body onload="start()">
	  <canvas id="glCanvas" width="640" height="480">
	    Your browser doesn't appear to support the 
	    <code>&lt;canvas&gt;</code> element.
	  </canvas>
	</body>
	<script type="text/javascript">
		var gl;
		function initWebGL(canvas) {
		  gl = null;
		  
		  // Try to grab the standard context. If it fails, fallback to experimental.
		  gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
		  
		  // If we don't have a GL context, give up now
		  if (!gl) {
		    alert('Unable to initialize WebGL. Your browser may not support it.');
		  }
		  
		  return gl;
		}
		function start() {
			var canvas = document.getElementById('glCanvas');
			gl = initWebGL(canvas);
			if (!gl) {
				return;
			}

			gl.clearColor(0.0, 1.0, 0.0, 1.0);
			gl.enable(gl.DEPTH_TEST);
			gl.depthFunc(gl.LEQUAL);
			gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
		}
		document.onload = function() {
			start();
		}
	</script>
</html>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">gl</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">initWebGL</span><span class="p">(</span><span class="nx">canvas</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">gl</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  
  <span class="c1">// Try to grab the standard context. If it fails, fallback to experimental.</span>
  <span class="nx">gl</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'webgl'</span><span class="p">)</span> <span class="o">||</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'experimental-webgl'</span><span class="p">);</span>
  
  <span class="c1">// If we don't have a GL context, give up now</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">'Unable to initialize WebGL. Your browser may not support it.'</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="nx">gl</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">start</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'glCanvas'</span><span class="p">);</span>
	<span class="nx">gl</span> <span class="o">=</span> <span class="nx">initWebGL</span><span class="p">(</span><span class="nx">canvas</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">gl</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="nx">gl</span><span class="p">.</span><span class="nx">clearColor</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>
	<span class="nx">gl</span><span class="p">.</span><span class="nx">enable</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">DEPTH_TEST</span><span class="p">);</span>
	<span class="nx">gl</span><span class="p">.</span><span class="nx">depthFunc</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">LEQUAL</span><span class="p">);</span>
	<span class="nx">gl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">gl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span> <span class="o">|</span> <span class="nx">gl</span><span class="p">.</span><span class="nx">DEPTH_BUFFER_BIT</span><span class="p">);</span>
<span class="p">}</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">start</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

